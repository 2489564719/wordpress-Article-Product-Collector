<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.17  |
    |              on 2025-11-22 08:59:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 if (!defined('ABSPATH')) { exit; } class SBB_Collector_Admin_PublishUI { public static function handle_create_product() { goto TovrK; nkkj9: $dHZn7 = isset($_POST['gallery_source_field']) ? sanitize_text_field($_POST['gallery_source_field']) : null; goto rogPZ; ZE0l4: $y22_H = $_POST['mapping'] ?? []; goto nkkj9; dC53d: check_admin_referer('sbb_create_product_' . $sOFJn); goto saBjf; rogPZ: $o7hKk = self::_create_product_from_staging($sOFJn, $y22_H, 'draft', 0, $dHZn7 ?: null); goto Kc7EY; xWXsK: $sOFJn = intval($_POST['staging_id']); goto dC53d; TovrK: if (!isset($_POST['_wpnonce']) || !isset($_POST['staging_id'])) { wp_die('无效的请求'); } goto xWXsK; Kc7EY: if ($o7hKk) { update_post_meta($sOFJn, '_sbb_published_product_id', $o7hKk); wp_redirect(admin_url('post.php?post=' . $o7hKk . '&action=edit')); } else { wp_die('手动创建产品失败。'); } goto RoPRp; saBjf: if (!current_user_can('edit_products')) { wp_die('权限不足'); } goto ZE0l4; RoPRp: exit; goto f_d3w; f_d3w: } public static function handle_direct_publish() { goto wcxrS; XObsp: $sOFJn = intval($_GET['staging_id']); goto POZiH; POZiH: $Pt4EL = sanitize_text_field($_GET['_wpnonce']); goto qDlZ3; CRmGN: $Elm06 = get_post_meta($sOFJn, SBB_Collector_StagingStore::META_KEY, true); goto d8JVC; FJkpx: $TxT42 = $Y3pJ_['direct_publish'] ?? false ? 'publish' : 'draft'; goto Dft70; nFwXg: if ($PhYkQ === 'post') { $NlvY7 = self::_create_post_from_staging($sOFJn, $y22_H, $TxT42, (int) $WDemQ); if ($NlvY7) { goto Oef0F; Q91M6: wp_redirect(admin_url('admin.php?page=sbb-collector-staging&published=1')); goto vhtV7; Oef0F: update_post_meta($sOFJn, '_sbb_published_post_id', $NlvY7); goto Q91M6; vhtV7: exit; goto ymkFG; ymkFG: } } else { $NlvY7 = self::_create_product_from_staging($sOFJn, $y22_H, $TxT42, (int) $WDemQ); if ($NlvY7) { goto H1nJS; XlLOA: wp_redirect(admin_url('admin.php?page=sbb-collector-staging&published=1')); goto srtYU; H1nJS: update_post_meta($sOFJn, '_sbb_published_product_id', $NlvY7); goto XlLOA; srtYU: exit; goto HJ3Ku; HJ3Ku: } } goto XYNWF; HhZ8q: $Y3pJ_ = SBB_Collector_ConfigStore::get_publish_config(); goto vaXq6; w6O20: if (empty($y22_H)) { wp_die('发布配置为空，请先设置字段映射。<a href="' . admin_url('admin.php?page=sbb-collector-publish-config') . '">前往设置</a>'); } goto nFwXg; XYNWF: wp_die('自动发布失败。'); goto JTkgZ; zFwFO: $WDemQ = $Y3pJ_['product_cat_id'] ?? 0; goto FJkpx; d8JVC: $PhYkQ = is_array($Elm06) ? $Elm06['content_type'] ?? 'product' : 'product'; goto kKFr6; wcxrS: if (!isset($_GET['staging_id'], $_GET['_wpnonce'])) { wp_die('无效的请求或Nonce验证失败'); } goto XObsp; kKFr6: $PhYkQ = $PhYkQ === 'post' ? 'post' : 'product'; goto ccJyr; vaXq6: $y22_H = $Y3pJ_['mapping'] ?? []; goto zFwFO; ccJyr: $EPHrm = $PhYkQ === 'post' ? 'edit_posts' : 'edit_products'; goto bVxir; qDlZ3: if (!wp_verify_nonce($Pt4EL, 'sbb_direct_publish_' . $sOFJn)) { wp_die('无效的请求或Nonce验证失败'); } goto CRmGN; bVxir: if (!current_user_can($EPHrm)) { wp_die('权限不足'); } goto HhZ8q; Dft70: $siwlV = isset($_GET['force_status']) ? sanitize_text_field($_GET['force_status']) : ''; goto F5ZuC; F5ZuC: if ($siwlV === 'draft') { $TxT42 = 'draft'; } goto w6O20; JTkgZ: } public static function _create_product_from_staging(int $sOFJn, array $y22_H, string $TxT42, int $WFZO8 = 0, ?string $dHZn7 = null) : int { goto VOF3Z; rLohX: $eEu4T = []; goto vWcmz; CHqhZ: foreach ($y22_H as $IHKDz => $wRPBj) { goto JFI8F; l0kA6: if (in_array($VnYxv, ['post_title', 'post_excerpt'], true)) { $c8T0u[$VnYxv] = wp_strip_all_tags($pWWEe); } elseif ($VnYxv === 'post_content') { $c8T0u[$VnYxv] = wp_kses_post($pWWEe); } elseif (strpos($VnYxv, $Du_cE . '[') === 0) { $r2Xw8 = str_replace($Du_cE . '[', '', rtrim($VnYxv, ']')); $TivRL[$r2Xw8] = $pWWEe; } elseif (strpos($VnYxv, 'acf:') === 0) { $UkJj9 = substr($VnYxv, 4); $wOV5W[$UkJj9] = sanitize_text_field($pWWEe); } else { $wOV5W[$VnYxv] = sanitize_text_field($pWWEe); } goto xdBPj; MM3t9: $VnYxv = rawurldecode($IHKDz); goto l0kA6; ZF5ol: if ($pWWEe === '') { continue; } goto MM3t9; nv9dQ: $pWWEe = $DPtf2[$wRPBj]['content'] ?? ''; goto ZF5ol; JFI8F: if (empty($wRPBj)) { continue; } goto nv9dQ; xdBPj: } goto w7d8S; dTzC3: if (function_exists('wc_get_product') && !empty($eEu4T)) { $Zu35m = wc_get_product($o7hKk); if ($Zu35m) { goto LMpa3; LMpa3: $XSfbF = $eEu4T[0]; goto oQDka; h20BL: $cXh_2 = wc_get_product($o7hKk); goto ji8l1; k4RLg: $Zu35m->save(); goto h20BL; ji8l1: if ($cXh_2) { $cXh_2->set_gallery_image_ids($eEu4T); $cXh_2->save(); } goto s34tn; oQDka: $Zu35m->set_image_id($XSfbF); goto k4RLg; s34tn: } } goto HaFBh; VOF3Z: $Elm06 = get_post_meta($sOFJn, SBB_Collector_StagingStore::META_KEY, true); goto tyLXl; tyLXl: if (empty($Elm06)) { return 0; } goto J0dP3; dztCE: $TivRL = []; goto vYPpZ; HaFBh: return (int) $o7hKk; goto UjyuE; MEm9v: if (is_wp_error($o7hKk)) { error_log('Collector: Failed to insert product. Error: ' . $o7hKk->get_error_message()); return 0; } goto Vdnbz; QuKht: $DPtf2 = $Elm06['extracted_data'] ?? []; goto Q71d1; Vdnbz: if (!empty($jdEZc) && function_exists('pll_set_post_language')) { pll_set_post_language($o7hKk, $jdEZc); } goto Ljq5D; vYPpZ: $Du_cE = SBB_Collector_ConfigStore::get_csf_prefix_product(); goto CHqhZ; RM19J: wp_set_object_terms($o7hKk, 'simple', 'product_type'); goto yZ3Od; J0dP3: $Y3pJ_ = SBB_Collector_ConfigStore::get_publish_config(); goto XNG1K; pZjos: $ND_w1 = $dHZn7 !== null ? $dHZn7 : $Y3pJ_['gallery_source_field'] ?? ''; goto QuKht; Q71d1: $c8T0u = ['post_type' => 'product', 'post_status' => in_array($TxT42, ['publish', 'draft', 'pending']) ? $TxT42 : 'draft', 'post_author' => get_current_user_id()]; goto ZGYuX; CCwlm: $eEu4T = array_unique(array_map('intval', $eEu4T)); goto dTzC3; ZGYuX: $kC2lc = $Elm06['source_url'] ?? ''; goto EXf_Y; e3at9: $wOV5W = []; goto dztCE; d0ywc: $o7hKk = wp_insert_post($c8T0u, true); goto MEm9v; nZ0vq: if (!empty($ND_w1) && isset($KSGyZ[$ND_w1]['attachment_ids'])) { $eEu4T = $KSGyZ[$ND_w1]['attachment_ids']; } goto CCwlm; EXf_Y: if ($kC2lc) { $aIMGW = parse_url($kC2lc, PHP_URL_PATH); if ($aIMGW) { goto WRTRV; EbZZt: $iD_Yn = preg_replace('/\\.(html|htm|php|asp|aspx)$/i', '', $iD_Yn); goto hv2MY; WRTRV: $iD_Yn = basename($aIMGW); goto EbZZt; hv2MY: if (!empty($iD_Yn)) { $c8T0u['post_name'] = sanitize_title($iD_Yn); } goto BijnK; BijnK: } } goto e3at9; XNG1K: $jdEZc = $Y3pJ_['language'] ?? ''; goto pZjos; w7d8S: if (!empty($wOV5W)) { $c8T0u['meta_input'] = $wOV5W; } goto d0ywc; yZ3Od: if (!empty($TivRL)) { update_post_meta($o7hKk, $Du_cE, $TivRL); } goto rLohX; Ljq5D: if ($WFZO8 > 0) { goto xiHhB; RQjRy: wp_set_object_terms($o7hKk, $wIRzF, 'product_cat'); goto dWBgQ; xiHhB: $wIRzF = (int) $WFZO8; goto xACF9; xACF9: if (!empty($jdEZc) && function_exists('pll_get_term') && function_exists('pll_get_term_language')) { $augdg = pll_get_term_language($wIRzF); if ($augdg && $augdg !== $jdEZc) { $jJypM = pll_get_term($wIRzF, $jdEZc); if (!empty($jJypM)) { $wIRzF = (int) $jJypM; } } } goto RQjRy; dWBgQ: } goto RM19J; vWcmz: $KSGyZ = $Elm06['designated_images'] ?? []; goto nZ0vq; UjyuE: } public static function _create_post_from_staging(int $sOFJn, array $y22_H, string $TxT42, int $rCSDs = 0) : int { goto PW30E; zNsUj: $jdEZc = $Y3pJ_['language'] ?? ''; goto oSz9z; J_qmq: $ND_w1 = $Y3pJ_['gallery_source_field'] ?? ''; goto zNsUj; L_pWk: $TivRL = []; goto aQ2y2; CoY4t: return (int) $VGZh2; goto GtX01; S58zg: foreach ($y22_H as $IHKDz => $wRPBj) { goto lVvAh; DVwKw: if (in_array($VnYxv, ['post_title', 'post_excerpt'], true)) { $fFb_f[$VnYxv] = wp_strip_all_tags($pWWEe); } elseif ($VnYxv === 'post_content') { $fFb_f[$VnYxv] = wp_kses_post($pWWEe); } elseif (in_array($VnYxv, ['_yoast_wpseo_title', '_yoast_wpseo_metadesc'], true)) { $U0PQ6[$VnYxv] = sanitize_text_field($pWWEe); } elseif (strpos($VnYxv, $Du_cE . '[') === 0) { $r2Xw8 = str_replace($Du_cE . '[', '', rtrim($VnYxv, ']')); $TivRL[$r2Xw8] = $pWWEe; } elseif (strpos($VnYxv, 'acf:') === 0) { $UkJj9 = substr($VnYxv, 4); $U0PQ6[$UkJj9] = sanitize_text_field($pWWEe); } else { $U0PQ6[$VnYxv] = sanitize_text_field($pWWEe); } goto HW7Oc; RjONE: if ($pWWEe === '') { continue; } goto Y72St; Y72St: $VnYxv = rawurldecode($IHKDz); goto DVwKw; lVvAh: if (empty($wRPBj)) { continue; } goto ED3G4; ED3G4: $pWWEe = $DPtf2[$wRPBj]['content'] ?? ''; goto RjONE; HW7Oc: } goto J_bjR; aQ2y2: $U0PQ6 = []; goto S58zg; Ydiih: $KSGyZ = $Elm06['designated_images'] ?? []; goto q4MFj; F38Xj: if ($kC2lc) { $aIMGW = parse_url($kC2lc, PHP_URL_PATH); if ($aIMGW) { goto TFLfJ; ucjbf: if (!empty($iD_Yn)) { $fFb_f['post_name'] = sanitize_title($iD_Yn); } goto KOIIa; XSbsp: $iD_Yn = preg_replace('/\\.(html|htm|php|asp|aspx)$/i', '', $iD_Yn); goto ucjbf; TFLfJ: $iD_Yn = basename($aIMGW); goto XSbsp; KOIIa: } } goto QO7gD; Zrmwc: $kC2lc = $Elm06['source_url'] ?? ''; goto F38Xj; ybfnD: if (!empty($ND_w1) && isset($KSGyZ[$ND_w1]['attachment_ids'][0])) { $Vvwqz = (int) $KSGyZ[$ND_w1]['attachment_ids'][0]; } goto htHJR; J_bjR: $VGZh2 = wp_insert_post($fFb_f, true); goto b54lZ; vraRe: $Y3pJ_ = SBB_Collector_ConfigStore::get_publish_config(); goto J_qmq; htHJR: if ($Vvwqz <= 0 && !empty($ND_w1)) { $DPtf2 = $Elm06['extracted_data'] ?? []; if (!empty($DPtf2[$ND_w1]['content'])) { goto P02HA; vS6IB: $Bq77F = trim($Hphxd); goto jOnJl; rA6Kf: if (!empty($D2rq4)) { goto x35Aq; U7e7X: $d63TR = $Elm06['source_url'] ?? $D2rq4; goto MYDxw; egVjJ: if (!empty($H3uus[0])) { $Vvwqz = (int) $H3uus[0]; } goto j7zco; ibA8n: $c8UN4 = $VGZh2; goto U7e7X; MYDxw: $H3uus = SBB_Collector_ImageLocalizer::localize_urls([$D2rq4], $d63TR, $l_bxf, $c8UN4); goto egVjJ; x35Aq: $l_bxf = new SBB_Collector_Logger(); goto ibA8n; j7zco: } goto aOnML; EYkVz: if (preg_match('#^https?://#i', $Bq77F)) { $D2rq4 = $Bq77F; } elseif (preg_match_all('/https?:\\/\\/[^\\s"\']+/i', $Hphxd, $BDjq4) && !empty($BDjq4[0])) { $D2rq4 = $BDjq4[0][0]; } goto rA6Kf; jOnJl: $D2rq4 = ''; goto EYkVz; P02HA: $Hphxd = (string) $DPtf2[$ND_w1]['content']; goto vS6IB; aOnML: } } goto S164u; qthP7: $fFb_f = ['post_type' => 'post', 'post_status' => in_array($TxT42, ['publish', 'draft', 'pending']) ? $TxT42 : 'draft', 'post_author' => get_current_user_id()]; goto Zrmwc; oSz9z: $DPtf2 = $Elm06['extracted_data'] ?? []; goto qthP7; AQ97U: if (empty($Elm06)) { return 0; } goto vraRe; S164u: if ($Vvwqz > 0 && function_exists('set_post_thumbnail')) { set_post_thumbnail($VGZh2, $Vvwqz); } goto CoY4t; sOkEA: if ($rCSDs > 0) { goto tNQuL; tNQuL: $wIRzF = (int) $rCSDs; goto WfBiU; wc7Qo: wp_set_object_terms($VGZh2, $wIRzF, 'category'); goto tMFFr; WfBiU: if (!empty($jdEZc) && function_exists('pll_get_term') && function_exists('pll_get_term_language')) { $augdg = pll_get_term_language($wIRzF); if ($augdg && $augdg !== $jdEZc) { $jJypM = pll_get_term($wIRzF, $jdEZc); if (!empty($jJypM)) { $wIRzF = (int) $jJypM; } } } goto wc7Qo; tMFFr: } goto WA7cd; VixJn: if (!empty($jdEZc) && function_exists('pll_set_post_language')) { pll_set_post_language($VGZh2, $jdEZc); } goto sOkEA; b54lZ: if (is_wp_error($VGZh2)) { error_log('Collector: Failed to insert post. Error: ' . $VGZh2->get_error_message()); return 0; } goto lssyV; PW30E: $Elm06 = get_post_meta($sOFJn, SBB_Collector_StagingStore::META_KEY, true); goto AQ97U; q4MFj: $Vvwqz = 0; goto ybfnD; lssyV: if (!empty($U0PQ6)) { foreach ($U0PQ6 as $UkJj9 => $s39xP) { update_post_meta($VGZh2, $UkJj9, $s39xP); } } goto VixJn; QO7gD: $Du_cE = SBB_Collector_ConfigStore::get_csf_prefix_post(); goto L_pWk; WA7cd: if (!empty($TivRL)) { update_post_meta($VGZh2, $Du_cE, $TivRL); } goto Ydiih; GtX01: } public static function render() : void { goto kqHxZ; WDIS9: $sOFJn = isset($_GET['staging_id']) ? intval($_GET['staging_id']) : 0; goto R9O3F; xiUod: submit_button('创建产品'); goto hBeKz; Q6JE6: wp_nonce_field('sbb_create_product_' . $sOFJn); goto M2r6R; sXusv: echo '</td></tr></tbody></table>'; goto xiUod; oJ03r: echo '<p style="margin-top:16px;font-size:16px;font-weight:600;color:#0073aa;">当前为 <strong>' . esc_html($xrXRn) . '</strong> 采集</p>'; goto DgIkV; Szz3t: echo '<p class="description">选择一个包含图片URL或HTML的字段作为产品图集的唯一来源（与“发布配置”中的设置保持一致）。</p>'; goto sXusv; YtOpq: $YLbhC = is_array($KSGyZ) ? array_keys($KSGyZ) : []; goto fLUmI; R9O3F: if (!$sOFJn || get_post_type($sOFJn) !== SBB_Collector_StagingStore::CPT) { wp_die('无效的暂存ID'); } goto nQ4pz; J2mVB: $qWzk7 = array_keys($DPtf2); goto YtOpq; fLUmI: $X0KJM = array_unique(array_merge($qWzk7, $YLbhC)); goto Vf6GV; M2r6R: self::render_mapping_table($DPtf2); goto kp07D; nQ4pz: $Elm06 = get_post_meta($sOFJn, SBB_Collector_StagingStore::META_KEY, true); goto a8EE_; kqHxZ: if (!current_user_can('manage_options')) { wp_die('权限不足'); } goto WDIS9; hBeKz: echo '</form></div>'; goto hp5Dq; nmn87: foreach ($X0KJM as $dwnAP) { echo '<option value="' . esc_attr($dwnAP) . '" ' . selected($ND_w1, $dwnAP, false) . '>' . esc_html($dwnAP) . '</option>'; } goto YQya2; Vf6GV: $Y3pJ_ = SBB_Collector_ConfigStore::get_publish_config(); goto Af1Pi; a8EE_: $DPtf2 = $Elm06['extracted_data'] ?? []; goto eo43I; YQya2: echo '</select>'; goto Szz3t; EiNpF: echo '<tr><th><label for="gallery_source_field">图集来源</label></th><td>'; goto tolJT; rlgR0: $W3cNV = SBB_Collector_ConfigStore::get_mode(); goto JTlMo; Y2Vio: echo '<input type="hidden" name="action" value="sbb_collector_create_product">'; goto McC68; Af1Pi: $ND_w1 = $Y3pJ_['gallery_source_field'] ?? ''; goto dUn_k; JTlMo: $xrXRn = $W3cNV === 'post' ? '文章' : '产品'; goto oJ03r; McC68: echo '<input type="hidden" name="staging_id" value="' . esc_attr($sOFJn) . '">'; goto Q6JE6; tolJT: echo '<select name="gallery_source_field" id="gallery_source_field">'; goto vA9Ch; eo43I: $KSGyZ = $Elm06['designated_images'] ?? []; goto J2mVB; vA9Ch: echo '<option value="">— 不指定 —</option>'; goto nmn87; kp07D: echo '<h2>图片字段处理</h2><table class="form-table"><tbody>'; goto EiNpF; dUn_k: echo '<div class="wrap"><h1>发布采集内容到产品</h1>'; goto rlgR0; DgIkV: echo '<form method="post" action="' . esc_url(admin_url('admin-post.php')) . '">'; goto Y2Vio; hp5Dq: } public static function get_target_fields() : array { goto qFzga; oIOrM: $xySPy = SBB_Collector_ConfigStore::get_csf_prefix_post(); goto zvd0f; xadmn: $fSc0a = array_filter(array_map('trim', preg_split('/[\\r\\n]+/', $Hwr4X))); goto xPjeE; bSpvf: $Hwr4X = isset($Y3pJ_['acf_fields']) ? (string) $Y3pJ_['acf_fields'] : ''; goto LtGg4; nZB8E: if ($W3cNV === 'post') { goto I54J1; I54J1: $gxzIR = ['post_title' => '文章标题', 'post_content' => '正文内容', 'post_excerpt' => '摘要', '_yoast_wpseo_title' => 'SEO 标题 (Yoast)', '_yoast_wpseo_metadesc' => 'Meta 描述 (Yoast)']; goto oqLW6; oqLW6: $gxzIR[$xySPy . '[csf_post_index]'] = '文章索引 (CSF)'; goto LX3yA; LX3yA: $gxzIR[$xySPy . '[csf_post_topic]'] = '文章分类 (CSF)'; goto UtEzU; UtEzU: } else { $gxzIR = ['post_title' => '产品标题', 'post_content' => '产品详细描述', 'post_excerpt' => '产品简短描述', '_yoast_wpseo_title' => 'SEO 标题 (Yoast)', '_yoast_wpseo_metadesc' => 'Meta 描述 (Yoast)']; $gxzIR['_sku'] = 'SKU'; } goto RFCXd; RFCXd: $Y3pJ_ = SBB_Collector_ConfigStore::get_publish_config(); goto z1amZ; tbtfX: if ($u6WpE !== '') { $omM_7 = preg_split('/[\\r\\n]+/', $u6WpE); foreach ($omM_7 as $D8yjz) { goto A1MMf; A1MMf: $D8yjz = trim((string) $D8yjz); goto dmJ80; c_KMk: $UEowo[] = ['id' => $oeoE7, 'label' => $VjAtA !== '' ? $VjAtA : $oeoE7]; goto TPgbn; MBH2I: $oeoE7 = ''; goto c3A5l; dmJ80: if ($D8yjz === '') { continue; } goto IES2_; IES2_: $VjAtA = ''; goto MBH2I; GRYPz: if ($oeoE7 === '') { continue; } goto c_KMk; c3A5l: if (strpos($D8yjz, '|') !== false) { goto HEePC; vBNUA: $oeoE7 = trim($oeoE7); goto pFZBS; laEro: $VjAtA = trim($VjAtA); goto vBNUA; HEePC: list($VjAtA, $oeoE7) = explode('|', $D8yjz, 2); goto laEro; pFZBS: } else { $oeoE7 = $D8yjz; $VjAtA = $D8yjz; } goto GRYPz; TPgbn: } } goto xadmn; xPjeE: if (!empty($UEowo)) { $NtLCL = $W3cNV === 'post' ? $xySPy : $fFkN2; foreach ($UEowo as $IpBkP) { goto cWMt3; cWMt3: $oeoE7 = $IpBkP['id']; goto rj3te; vinKS: $W1owZ = $NtLCL . '[' . $oeoE7 . ']'; goto ZF9C8; ZF9C8: $gxzIR[$W1owZ] = $VjAtA; goto w0PPo; rj3te: $VjAtA = $IpBkP['label']; goto vinKS; w0PPo: } } goto tlpmg; tlpmg: if (!empty($fSc0a)) { foreach ($fSc0a as $UkJj9) { $gxzIR['acf:' . $UkJj9] = 'ACF: ' . $UkJj9; } } goto ow9A7; z1amZ: $u6WpE = isset($Y3pJ_['csf_fields']) ? (string) $Y3pJ_['csf_fields'] : ''; goto bSpvf; qFzga: $fFkN2 = SBB_Collector_ConfigStore::get_csf_prefix_product(); goto oIOrM; LtGg4: $UEowo = []; goto tbtfX; ow9A7: return $gxzIR; goto Pqeiy; zvd0f: $W3cNV = SBB_Collector_ConfigStore::get_mode(); goto nZB8E; Pqeiy: } private static function render_mapping_table(array $DPtf2) : void { goto bEMl6; i7XuY: foreach ($ejx6p as $W1owZ => $VjAtA) { goto UCQaD; bZks6: echo '<option value="">— 不映射 —</option>'; goto CS4rf; JJokv: echo '</select>'; goto zhcDJ; zipnx: echo '<select name="mapping[' . esc_attr($W1owZ) . ']" id="mapping_' . esc_attr($W1owZ) . '">'; goto bZks6; UCQaD: echo '<tr><th><label for="mapping_' . esc_attr($W1owZ) . '">' . esc_html($VjAtA) . '</label></th><td>'; goto zipnx; zhcDJ: echo '</td></tr>'; goto sdqU1; CS4rf: foreach ($c6O0I as $zSIKh) { echo '<option value="' . esc_attr($zSIKh) . '">' . esc_html($zSIKh) . '</option>'; } goto JJokv; sdqU1: } goto lBeI1; bEMl6: $ejx6p = self::get_target_fields(); goto ykGlC; ykGlC: $c6O0I = array_keys($DPtf2); goto Ul7f_; Ul7f_: echo '<table class="form-table"><tbody>'; goto i7XuY; lBeI1: echo '</tbody></table>'; goto klpac; klpac: } }
