<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.17  |
    |              on 2025-11-22 08:59:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 goto m9vF3; mOoi9: require_once __DIR__ . '/PublishUI.php'; goto Wtezp; hIXI5: require_once __DIR__ . '/StagingUI.php'; goto plAe7; lu42e: require_once __DIR__ . '/SingleUI.php'; goto hIXI5; hPT9y: class SBB_Collector_Admin_Menu { public static function init() : void { goto GvsW_; ej7r9: add_action('admin_post_sbb_collector_create_product', ['SBB_Collector_Admin_PublishUI', 'handle_create_product']); goto I_1qY; IHkwa: add_action('admin_post_sbb_collector_batch_start', ['SBB_Collector_Admin_BatchUI', 'handle_start']); goto MvDio; J3Iy5: add_action('admin_post_sbb_collector_delete_staging', ['SBB_Collector_Admin_StagingUI', 'handle_delete']); goto OoH1z; OoH1z: add_action('admin_post_sbb_collector_save_config', ['SBB_Collector_Admin_ConfigUI', 'handle_save']); goto ej7r9; e5fjS: add_action('admin_post_sbb_collector_direct_publish', ['SBB_Collector_Admin_PublishUI', 'handle_direct_publish']); goto IHkwa; KWCpx: add_action('admin_post_sbb_collector_single', ['SBB_Collector_Admin_SingleUI', 'handle']); goto J3Iy5; I_1qY: add_action('admin_post_sbb_collector_save_publish_config', ['SBB_Collector_Admin_PublishConfigUI', 'handle_save']); goto e5fjS; GvsW_: add_action('admin_menu', [self::class, 'menu']); goto KWCpx; Hg313: add_action('admin_menu', [self::class, 'hide_publish_menu'], 999); goto cZlzk; MvDio: add_action('admin_post_sbb_collector_save_settings', ['SBB_Collector_Admin_SettingsUI', 'handle_save']); goto Hg313; cZlzk: } public static function menu() : void { goto xxSBs; rtCd0: add_submenu_page('sbb-collector', '采集器设置', '采集器设置', 'manage_options', 'sbb-collector-settings', ['SBB_Collector_Admin_SettingsUI', 'render']); goto W8_2O; UwZs9: if ($typyy) { SBB_Collector_Admin_StagingUI::add_hooks($typyy); } goto gx_Nz; L9bm2: add_submenu_page('sbb-collector', '批量采集', '批量采集', 'manage_options', 'sbb-collector-batch', ['SBB_Collector_Admin_BatchUI', 'render']); goto b7xRm; GY9vQ: add_submenu_page('sbb-collector', '发布采集', '发布采集', 'manage_options', 'sbb-collector-publish', ['SBB_Collector_Admin_PublishUI', 'render']); goto rtCd0; Fx246: add_submenu_page('sbb-collector', '单链接调试', '单链接调试', 'manage_options', 'sbb-collector', ['SBB_Collector_Admin_SingleUI', 'render']); goto L9bm2; hyEQd: add_submenu_page('sbb-collector', '发布配置', '发布配置', 'manage_options', 'sbb-collector-publish-config', ['SBB_Collector_Admin_PublishConfigUI', 'render']); goto GY9vQ; xxSBs: add_menu_page('采集器', '采集器', 'manage_options', 'sbb-collector', ['SBB_Collector_Admin_SingleUI', 'render'], 'dashicons-update', 58); goto Fx246; gx_Nz: add_submenu_page('sbb-collector', '采集配置', '采集配置', 'manage_options', 'sbb-collector-config', ['SBB_Collector_Admin_ConfigUI', 'render']); goto hyEQd; b7xRm: $typyy = add_submenu_page('sbb-collector', '采集暂存管理', '采集暂存管理', 'manage_options', 'sbb-collector-staging', ['SBB_Collector_Admin_StagingUI', 'render']); goto UwZs9; W8_2O: } public static function hide_publish_menu() : void { remove_submenu_page('sbb-collector', 'sbb-collector-publish'); } } goto mIZcR; plAe7: require_once __DIR__ . '/ConfigUI.php'; goto mOoi9; Wtezp: require_once __DIR__ . '/PublishConfigUI.php'; goto Ao0yc; uennV: require_once __DIR__ . '/StagingListTable.php'; goto hPT9y; m9vF3: if (!defined('ABSPATH')) { exit; } goto lu42e; Ao0yc: require_once __DIR__ . '/BatchUI.php'; goto uennV; mIZcR: class SBB_Collector_Admin_SettingsUI { public static function render() : void { goto Mpx1c; O3ks5: echo '<input type="text" name="csf_prefix_product" value="' . esc_attr($fFkN2) . '" class="regular-text" />'; goto GlJww; rVfeX: echo '<tr><th scope="row">当前采集模式</th><td>'; goto m7JVX; m7JVX: echo '<label><input type="radio" name="mode" value="product" ' . checked($W3cNV, 'product', false) . '> 产品采集</label><br />'; goto qAYwa; SlH6X: echo '</form></div>'; goto K1JFc; XmyYB: echo '<p class="description">默认值为 Metabox_CSF_Post_Options。如其他站点使用了不同的 CSF meta_key，请在此填写完整 meta_key。</p>'; goto U11lh; olmXM: $xrXRn = $W3cNV === 'post' ? '文章' : '产品'; goto hCDTg; Mpx1c: if (!current_user_can('manage_options')) { wp_die('权限不足'); } goto p2T9R; JpJ8i: $xySPy = SBB_Collector_ConfigStore::get_csf_prefix_post(); goto S4PVR; vShKo: echo '<p class="description">切换后，“采集配置 / 暂存管理 / 发布配置”将针对所选内容类型使用各自独立的配置和数据。</p>'; goto m4ZI6; w82E2: echo '<input type="text" name="csf_prefix_post" value="' . esc_attr($xySPy) . '" class="regular-text" />'; goto XmyYB; jg03h: wp_nonce_field('sbb_collector_save_settings'); goto kzxjg; sPRb2: echo '<tr><th scope="row">CSF 元字段前缀（产品）</th><td>'; goto O3ks5; S4PVR: echo '<div class="wrap"><h1>采集器设置</h1>'; goto olmXM; WrCJh: echo '<form method="post" action="' . esc_url(admin_url('admin-post.php')) . '">'; goto jg03h; qAYwa: echo '<label><input type="radio" name="mode" value="post" ' . checked($W3cNV, 'post', false) . '> 文章采集</label>'; goto vShKo; zTMIP: submit_button('保存设置'); goto SlH6X; kzxjg: echo '<input type="hidden" name="action" value="sbb_collector_save_settings">'; goto ktqZF; EMybi: echo '<tr><th scope="row">CSF 元字段前缀（文章）</th><td>'; goto w82E2; RsNYY: echo '</td></tr>'; goto EMybi; ktqZF: echo '<table class="form-table"><tbody>'; goto rVfeX; JDjWR: $fFkN2 = SBB_Collector_ConfigStore::get_csf_prefix_product(); goto JpJ8i; m4ZI6: echo '</td></tr>'; goto sPRb2; skWDF: echo '</tbody></table>'; goto zTMIP; GlJww: echo '<p class="description">默认值为 Metabox_CSF_Options。如其他站点使用了不同的 CSF meta_key，请在此填写完整 meta_key。</p>'; goto RsNYY; hCDTg: echo '<p style="margin-top:16px;font-size:16px;font-weight:600;color:#0073aa;">当前为 <strong>' . esc_html($xrXRn) . '</strong> 采集</p>'; goto WrCJh; p2T9R: $W3cNV = SBB_Collector_ConfigStore::get_mode(); goto JDjWR; U11lh: echo '</td></tr>'; goto skWDF; K1JFc: } public static function handle_save() : void { goto no2d9; IZ8a2: $fFkN2 = isset($_POST['csf_prefix_product']) ? (string) $_POST['csf_prefix_product'] : ''; goto qO9Mq; no2d9: if (!current_user_can('manage_options')) { wp_die('权限不足'); } goto dab9B; qO9Mq: $xySPy = isset($_POST['csf_prefix_post']) ? (string) $_POST['csf_prefix_post'] : ''; goto Whm7b; dab9B: check_admin_referer('sbb_collector_save_settings'); goto CorrE; IQw1Q: wp_redirect(admin_url('admin.php?page=sbb-collector-settings&saved=1')); goto qszZA; Whm7b: SBB_Collector_ConfigStore::save_mode($W3cNV); goto l0UVE; qszZA: exit; goto dHwdH; l0UVE: SBB_Collector_ConfigStore::save_csf_prefixes($fFkN2, $xySPy); goto IQw1Q; CorrE: $W3cNV = isset($_POST['mode']) ? sanitize_text_field($_POST['mode']) : 'product'; goto IZ8a2; dHwdH: } }
